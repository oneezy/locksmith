angular.module("angular-carousel",["ngTouch"]),angular.module("angular-carousel").directive("rnCarouselAutoSlide",["$timeout",function(e){return{restrict:"A",link:function(n,r,a){var o=Math.round(1e3*parseFloat(a.rnCarouselAutoSlide)),t=increment=!1,u=r.children().length;n.carouselExposedIndex||(n.carouselExposedIndex=0),stopAutoplay=function(){angular.isDefined(t)&&e.cancel(t),t=void 0},increment=function(){n.carouselExposedIndex=n.carouselExposedIndex<u-1?n.carouselExposedIndex+1:0},restartTimer=function(){stopAutoplay(),t=e(increment,o)},n.$watch("carouselIndex",function(){restartTimer()}),restartTimer(),a.rnCarouselPauseOnHover&&"false"!=a.rnCarouselPauseOnHover&&(r.on("mouseenter",stopAutoplay),r.on("mouseleave",restartTimer)),n.$on("$destroy",function(){stopAutoplay(),r.off("mouseenter",stopAutoplay),r.off("mouseleave",restartTimer)})}}}]),angular.module("angular-carousel").directive("rnCarouselControls",[function(){return{restrict:"A",replace:!0,scope:{items:"=",index:"="},link:function(e){e.prev=function(){e.index>0&&e.index--},e.next=function(){e.index<e.items.length-1&&e.index++}},templateUrl:"carousel-controls.html"}}]),angular.module("angular-carousel").run(["$templateCache",function(e){e.put("carousel-controls.html",'<div class="rn-carousel-controls">\n  <span class="rn-carousel-control rn-carousel-control-prev" ng-click="prev()" ng-if="index > 0"></span>\n  <span class="rn-carousel-control rn-carousel-control-next" ng-click="next()" ng-if="index < items.length - 1"></span>\n</div>')}]),angular.module("angular-carousel").directive("rnCarouselIndicators",[function(){return{restrict:"A",replace:!0,scope:{items:"=",index:"="},templateUrl:"carousel-indicators.html"}}]),angular.module("angular-carousel").run(["$templateCache",function(e){e.put("carousel-indicators.html",'<div class="rn-carousel-indicator">\n <span ng-repeat="item in items" ng-click="$parent.index=$index" ng-class="{active: $index==$parent.index}"></span>\n</div>')}]),function(){"use strict";angular.module("angular-carousel").directive("rnCarousel",["$swipe","$window","$document","$parse","$compile","$rootScope",function(e,n,r,a,o,t){var u=0,i=75,s=.05,l=3,c=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame;return{restrict:"A",scope:!0,compile:function(d,f){var p,x,m=d.children()[0].attributes,g=!1,v=!1,I=!1;return d.addClass("rn-carousel-slides"),d.children().addClass("rn-carousel-slide"),["ng-repeat","data-ng-repeat","x-ng-repeat"].every(function(e){var n=m[e];if(angular.isDefined(n)){var r=n.value.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),a=r[3];if(p=r[1],x=r[2],p)return angular.isDefined(f.rnCarouselBuffered)&&(v=!0,n.value=p+" in "+x+"|carouselSlice:carouselBufferIndex:carouselBufferSize",a&&(n.value+=" track by "+a)),g=!0,!1}return!0}),function(d,f,p){function m(){for(var e=[],n=0;U>n;n++)e[n]=n;d.carouselIndicatorArray=e}function h(){var e=Y.children();return N=0===e.length?Y[0].getBoundingClientRect().width:e[0].getBoundingClientRect().width}function $(){G.css("width","100%");var e=h();e&&G.css("width",e+"px")}function y(e){isNaN(e)&&(e=d.carouselIndex*N),H=e;var n=-Math.round(H);n+=d.carouselBufferIndex*N,Y[0].style[O]=W?"translate3d("+n+"px, 0, 0)":"translate("+n+"px, 0)"}function C(){var e,n;R&&(e=Date.now()-q,n=R*Math.exp(-e/i),n>l||-l>n?(y(j-n),c(C)):A(j/N))}function w(e){return e>=U?U:0>=e?0:e}function b(){var e=0,n=(d.carouselBufferSize-1)/2;v&&(e=d.carouselIndex<=n?0:U<d.carouselBufferSize?0:d.carouselIndex>U-d.carouselBufferSize?U-d.carouselBufferSize:d.carouselIndex-n),d.carouselBufferIndex=e}function A(e,n){return isNaN(e)&&(e=d.carouselIndex),n?(H=e*N,void T(null,null,!0)):(d.carouselIndex=w(e),b(),"$apply"!==t.$$phase&&"$digest"!==t.$$phase&&(I?d.$apply():d.$digest()),void y())}function S(){return s*N}function B(e){V=!0,T({x:e.clientX,y:e.clientY},e)}function k(e){var n=e;return 0===d.carouselIndex?n=Math.max(-S(),n):d.carouselIndex===U-1&&(n=Math.min((U-1)*N+S(),n)),n}function D(e){return r.bind("mouseup",B),F=!0,P=e.x,R=0,q=Date.now(),!1}function z(e){var n,r;return F&&(n=e.x,r=P-n,(r>2||-2>r)&&(V=!0,P=n,c(function(){y(k(H+r))}))),!1}function T(e,n,a){if(!n||V){r.unbind("mouseup",B),F=!1,V=!1,j=H;var o=S(),t=d.carouselIndex*N,u=t-j,i=-Math[u>=0?"ceil":"floor"](u/N),s=Math.abs(u)>o;i+d.carouselIndex>=U&&(i=U-1-d.carouselIndex),i+d.carouselIndex<0&&(i=-d.carouselIndex);var l=s?i:0;return j=(l+d.carouselIndex)*N,R=j-H,q=Date.now(),a&&(R=H-t),c(C),!1}}function E(){var e,n=document.createElement("p"),r={webkitTransform:"-webkit-transform",msTransform:"-ms-transform",transform:"transform"};document.body.insertBefore(n,null);for(var a in r)void 0!==n.style[a]&&(n.style[a]="translate3d(1px,1px,1px)",e=window.getComputedStyle(n).getPropertyValue(r[a]));return document.body.removeChild(n),void 0!==e&&e.length>0&&"none"!==e}function M(){$(),A()}u++;var N,O,F,P,R,j,q,H=0,U=0,V=!1,X=!0,Y=f.wrap("<div id='carousel-"+u+"' class='rn-carousel-container'></div>"),G=Y.parent();if((angular.isDefined(p.rnCarouselIndicator)||angular.isDefined(p.rnCarouselControl))&&(m(),d.$watch("carouselIndex",function(e){d.indicatorIndex=e,d.carouselExposedIndex=e}),d.$watch("indicatorIndex",function(e){A(e,!0)})),angular.isDefined(p.rnCarouselPreventAnimation)&&(X=!1),d.$watch("carouselExposedIndex",function(e){A(e,!0)}),angular.isDefined(p.rnCarouselIndicator)){var J=o("<div id='carousel-"+u+"-indicator' index='indicatorIndex' items='carouselIndicatorArray' rn-carousel-indicators class='rn-carousel-indicator'></div>")(d);G.append(J)}if(angular.isDefined(p.rnCarouselControl)){var K=o("<div id='carousel-"+u+"-controls' index='indicatorIndex' items='carouselIndicatorArray' rn-carousel-controls class='rn-carousel-controls'></div>")(d);G.append(K)}if(d.carouselBufferIndex=0,d.carouselBufferSize=5,d.carouselIndex=0,p.rnCarouselIndex){var L=function(e){Q.assign(d.$parent,e)},Q=a(p.rnCarouselIndex);angular.isFunction(Q.assign)?(d.$watch("carouselIndex",function(e){L(e)}),d.carouselIndex=Q(d),d.$parent.$watch(Q,function(e){void 0!==e&&(e>=U?(e=U-1,L(e)):0>e&&(e=0,L(e)),A(e,X))}),I=!0):isNaN(p.rnCarouselIndex)||(d.carouselIndex=parseInt(p.rnCarouselIndex,10))}g?d.$watchCollection(x,function(e){U=0,angular.isArray(e)?U=e.length:angular.isObject(e)&&(U=Object.keys(e).length),m(),N||$(),A(d.carouselIndex)}):(U=f.children().length,m(),$()),p.$observe("rnCarouselSwipe",function(n){"false"!==n&&"off"!==n?e.bind(Y,{start:D,move:z,end:T,cancel:function(e){T({},e)}}):Y.unbind()}),I||A(d.carouselIndex),O="transform",["webkit","Moz","O","ms"].every(function(e){var n=e+"Transform";return"undefined"!=typeof document.body.style[n]?(O=n,!1):!0});var W=E(),Z=angular.element(n);Z.bind("orientationchange",M),Z.bind("resize",M),d.$on("$destroy",function(){r.unbind("mouseup",B),Z.unbind("orientationchange",M),Z.unbind("resize",M)})}}}}])}(),function(){"use strict";angular.module("angular-carousel").filter("carouselSlice",function(){return function(e,n,r){return angular.isArray(e)?e.slice(n,n+r):angular.isObject(e)?e:void 0}})}();